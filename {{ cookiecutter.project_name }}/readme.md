<!--                          DO NOT EDIT THIS FILE                          -->
# `{{ cookiecutter.project_name }}`

A bash library to parse CLI arguments from a [recfile][recutils_website].

## Man page

`✂ --------------------------------------------------`

% {{ cookiecutter.project_name }}(1) % Felipe M. Vieira % August 2023

### NAME

{{ cookiecutter.project_name }} – A bash library to parse CLI arguments
defined in a
[recfile](https://www.gnu.org/software/recutils/ "GNU Recutils").

### SYNOPSIS

**{{ cookiecutter.project_name }}** \[**--help** \| **--test**\]

### DESCRIPTION

**{{ cookiecutter.project_name }}** provides a bash function (`parse`) that
takes 3 arguments:

    source /usr/local/lib/{{ cookiecutter.project_name }}/{{ cookiecutter.project_name }}

    declare -A arguments

    parse ./{{ cookiecutter.project_name }}_entrypoint.rec arguments "$❴*:-❵"

A recfile, a bash associative array (to mutate it) and a string with the
CLI arguments to parse.

The associative array is mutated and its contents are:

-   Key value pairs of the parameters at the recfile.

    If a parameter consumes 0 arguments, its contents are set to `true`.

    Parameters that consume more than 2 arguments are not supported yet.

-   `rest_n`: number of parameters not parametrized at the recfile.

-   `rest0`: the 0-th parameter not parametrized at the recfile.

The executable is provided solely for testing purposes.

### GENERAL OPTIONS

**-t**, **--test**  
Test the program.

**-h**, **--help**  
Print help and exit.


`-------------------------------------------------- ✂`

<!--

## Developing

???

-->

### Testing

```
cd /path/to/{{ cookiecutter.project_name }}
rm ./output/deb/*.deb
make package down build test
```

## TODO

### This project

*   Fix `Section: checkinstall` in `.deb`.

*   Integrate `{{ cookiecutter.project_name }}/usr/local/share/{{ cookiecutter.project_name }}/recfiles/{{ cookiecutter.project_name }}_metadata.rec` with `help`.

*   Improve bash best practices (see links below).

    *   read this; <https://stackoverflow.com/a/69252872/5544140>.

    *   <https://google.github.io/styleguide/shellguide.html#s4.2-function-comments>.

### Related to this project

*   Use `recfiles` to define depts. Its metadata capabilities are outstanding.

*   [DRY principle](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself): install jira templates from rec files, define parameters from recfiles, etc. e.g. `if [[ $# != 3 ]]; then` the `3` is hardcoded there.

    *   duplication of knowlegde; if I parse exactly 3 arguments, how can I fix that and reference that number on the docs without templating the bash file?

## Other

These were helpful when deciding on the project structure:

https://en.wikipedia.org/wiki/Filesystem_Hierarchy_Standard

https://stackoverflow.com/questions/45740459/what-does-local-mean

https://refspecs.linuxfoundation.org/FHS_3.0/fhs/ch04s09.html#usrlocalshare1

### Related projects

*   [`fmv1992_cookiecutter_shell`](???).

<!--  -->

<!-- https://pandoc.org/chunkedhtml-demo/8.16-links-1.html -->

[recutils_website]: https://www.gnu.org/software/recutils/ (GNU Recutils)

<!-- # vim: set filetype=pandoc fileformat=unix nowrap spell spelllang=en: -->

<!--                          DO NOT EDIT THIS FILE                          -->
